---
import Container from '../common/Container.astro';
import SectionHeading from '../common/SectionHeading.astro';
import { t, type Locale } from '../../i18n/utils';

interface Props {
  locale?: Locale;
}

const { locale = 'en' } = Astro.props;

const painPoints = ['executive', 'organizational', 'regulatory'];
---

<section id="problem" class="section bg-slate-50 scroll-mt-nav">
  <Container>
    <SectionHeading
      title={t('problem.headline', locale)}
      align="center"
    />

    <!-- Pain Point Cards -->
    <div class="grid md:grid-cols-3 gap-4 lg:gap-6 mb-12 stagger-children">
      {painPoints.map((point, index) => (
        <div class="card-bordered p-6 lg:p-8 border-s-4 border-s-teal-600 hover:border-s-teal-400 transition-colors">
          <!-- Icon -->
          <div class="w-12 h-12 bg-teal-100 rounded-xl flex items-center justify-center mb-4">
            {point === 'executive' && (
              <svg class="w-6 h-6 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 20V10M18 20V4M6 20v-4"/>
              </svg>
            )}
            {point === 'organizational' && (
              <svg class="w-6 h-6 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 6v6l4 2"/>
              </svg>
            )}
            {point === 'regulatory' && (
              <svg class="w-6 h-6 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                <path d="M9.5 9h.01M14.5 9h.01M9 15h6"/>
              </svg>
            )}
          </div>

          <h3 class="text-xl font-display font-semibold text-slate-900 mb-3">
            {t(`problem.${point}.title`, locale)}
          </h3>

          <p class="text-slate-600 leading-relaxed">
            {t(`problem.${point}.description`, locale)}
          </p>

          {point === 'organizational' && (
            <blockquote class="mt-4 pt-4 border-t border-slate-200 italic text-slate-500 text-sm">
              "{t('problem.organizational.quote', locale)}"
            </blockquote>
          )}
        </div>
      ))}
    </div>

    <!-- Key Statistic -->
    <div class="relative max-w-2xl mx-auto text-center animate-on-scroll">
      <div class="absolute inset-0 bg-gradient-to-r from-teal-600/10 to-cyan-400/10 rounded-2xl blur-xl"></div>
      <div class="relative bg-white rounded-2xl p-8 lg:p-12 shadow-card">
        <div class="text-8xl lg:text-9xl font-display font-bold text-teal-700 mb-2">
          <span data-count-to="62" class="ltr-number">0</span>%
        </div>
        <p class="text-slate-600 text-lg">
          {t('problem.stat.label', locale)}
        </p>
      </div>
    </div>
  </Container>
</section>
