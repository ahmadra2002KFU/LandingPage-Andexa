---
import Container from '../common/Container.astro';
import SectionHeading from '../common/SectionHeading.astro';
import { t, type Locale } from '../../i18n/utils';

interface Props {
  locale?: Locale;
}

const { locale = 'en' } = Astro.props;

const pillars = [
  { key: 'askData', icon: 'chat' },
  { key: 'onPremises', icon: 'shield' },
  { key: 'universal', icon: 'plug' }
];
---

<section id="features" class="section bg-gradient-dark text-white scroll-mt-nav">
  <Container>
    <SectionHeading
      title={t('solution.headline', locale)}
      subtitle={t('solution.tagline', locale)}
      align="center"
      titleClass="text-white"
      subtitleClass="text-cyan-300"
    />

    <!-- Three Pillars -->
    <div class="relative max-w-5xl mx-auto mb-12">
      <!-- Connecting lines (decorative) -->
      <div class="hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-teal-500/30 to-transparent"></div>

      <div class="grid md:grid-cols-3 gap-6 lg:gap-8 stagger-children">
        {pillars.map((pillar, index) => (
          <div
            class={`relative bg-white rounded-2xl p-8 shadow-xl transform hover:-translate-y-2 transition-all duration-300 ${
              index === 1 ? 'lg:-translate-y-4' : ''
            }`}
          >
            <!-- Pillar number -->
            <div class="absolute -top-4 -start-4 w-10 h-10 bg-teal-700 rounded-xl flex items-center justify-center text-white font-bold shadow-lg">
              {index + 1}
            </div>

            <!-- Icon -->
            <div class="w-14 h-14 bg-teal-100 rounded-2xl flex items-center justify-center mb-6">
              {pillar.icon === 'chat' && (
                <svg class="w-7 h-7 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                  <path d="M8 10h.01M12 10h.01M16 10h.01"/>
                </svg>
              )}
              {pillar.icon === 'shield' && (
                <svg class="w-7 h-7 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                  <path d="M9 12l2 2 4-4"/>
                </svg>
              )}
              {pillar.icon === 'plug' && (
                <svg class="w-7 h-7 text-teal-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2v6M12 22v-6M4.93 4.93l4.24 4.24M14.83 14.83l4.24 4.24M2 12h6M22 12h-6M4.93 19.07l4.24-4.24M14.83 9.17l4.24-4.24"/>
                </svg>
              )}
            </div>

            <h3 class="text-xl font-display font-semibold text-slate-900 mb-3">
              {t(`solution.pillars.${pillar.key}.title`, locale)}
            </h3>

            <p class="text-slate-600 leading-relaxed">
              {t(`solution.pillars.${pillar.key}.description`, locale)}
            </p>
          </div>
        ))}
      </div>
    </div>

    <!-- Dual Interface Preview -->
    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto stagger-children">
      <!-- Command Center -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-colors">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 bg-cyan-400/20 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-cyan-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <line x1="3" y1="9" x2="21" y2="9"/>
              <line x1="9" y1="21" x2="9" y2="9"/>
            </svg>
          </div>
          <h4 class="text-lg font-semibold text-white">
            {t('solution.dualInterface.commandCenter.title', locale)}
          </h4>
        </div>
        <p class="text-slate-300 text-sm">
          {t('solution.dualInterface.commandCenter.description', locale)}
        </p>
      </div>

      <!-- Chat Interface -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-colors">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 bg-cyan-400/20 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-cyan-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
          </div>
          <h4 class="text-lg font-semibold text-white">
            {t('solution.dualInterface.chat.title', locale)}
          </h4>
        </div>
        <p class="text-slate-300 text-sm">
          {t('solution.dualInterface.chat.description', locale)}
        </p>
      </div>
    </div>
  </Container>
</section>
